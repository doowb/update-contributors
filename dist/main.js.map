{"version":3,"sources":["webpack:///webpack/bootstrap cea93496b98421bdce39","webpack:///./index.js","webpack:///./~/babel-runtime/helpers/interop-require-default.js","webpack:///external \"async\"","webpack:///external \"mixin-deep\"","webpack:///external \"github-base\"","webpack:///external \"array-unique\"","webpack:///external \"data-store\"","webpack:///external \"parse-github-url\"","webpack:///external \"ask-for-github-auth\"","webpack:///external \"github-contributors\""],"names":[],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap cea93496b98421bdce39\n **/","\nimport async from 'async';\nimport merge from 'mixin-deep';\nimport GitHub from 'github-base';\nimport unique from 'array-unique';\nimport DataStore from 'data-store';\nimport ghUrl from 'parse-github-url';\nimport ask from 'ask-for-github-auth';\nimport ghContrib from 'github-contributors';\n\nconst store = new DataStore('update-contributors');\n\n/**\n * Pulldown github contributors and update the `contributors` property\n * in the provided package.json object.\n *\n * ```js\n * var pkg = require('./package.json');\n * update(pkg, function (err, results) {\n *   if (err) return console.error(err);\n *   console.log(reults);\n *   //=> updated package.json object\n * });\n * ```\n *\n * @param  {Object} `pkg` Object representing the package.json to update.\n * @param  {Object} `options` Options to use for github authentication.\n * @param {Function} `cb` Callback function that will get an `err` when an error happens or a `results` with the updated package.json object.\n * @api public\n * @name  `update`\n */\n\nexport default function(pkg, options, cb) {\n  if (typeof options === 'function') {\n    cb = options;\n    options = {};\n  }\n  let repo;\n  if (typeof pkg.repository === 'object') {\n    repo = ghUrl(pkg.repository.url);\n  } else {\n    repo = ghUrl(pkg.repository);\n  }\n  if (!repo) return cb(new Error('Invalid repository property.'));\n  async.waterfall([\n    // ask for creds\n    async.apply(ask, {store}),\n\n    // update creds on options\n    (creds, next) => {\n      options = merge({}, options, creds);\n      next();\n    },\n\n    // get contributors\n    async.apply(ghContrib, repo.repopath, options),\n\n    // get contributor information\n    (contributors, next) => {\n      const github = new GitHub(options);\n      pkg.contributors = pkg.contributors || [];\n      pkg.contributors = Array.isArray(pkg.contributors) ? pkg.contributors : pkg.contributors;\n      async.eachSeries(contributors, (contributor, nextContributor) => {\n        github.get('/users/:login', contributor, (err, user) => {\n          if (err) return nextContributor(err);\n          pkg.contributors.push({\n            name: user.name || user.login,\n            email: user.email || '',\n            url: user.html_url\n          });\n          nextContributor();\n        });\n      }, next);\n    },\n\n    // de-dup\n    (next) => {\n      let contributors = [];\n      pkg.contributors.forEach((contributor) => {\n        if (contributors.filter((existing) => {return existing.name === contributor.name;}).length === 0) {\n          contributors.push(contributor);\n        }\n      });\n      pkg.contributors = contributors;\n      next();\n    }\n  ], (err) => {\n    if (err) return cb(err);\n    pkg.contributors = unique(pkg.contributors);\n    cb(null, pkg);\n  });\n\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./index.js\n **/","\"use strict\";\n\nexports[\"default\"] = function (obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n};\n\nexports.__esModule = true;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/interop-require-default.js\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = require(\"async\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"async\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = require(\"mixin-deep\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"mixin-deep\"\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = require(\"github-base\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"github-base\"\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = require(\"array-unique\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"array-unique\"\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = require(\"data-store\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"data-store\"\n ** module id = 6\n ** module chunks = 0\n **/","module.exports = require(\"parse-github-url\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"parse-github-url\"\n ** module id = 7\n ** module chunks = 0\n **/","module.exports = require(\"ask-for-github-auth\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ask-for-github-auth\"\n ** module id = 8\n ** module chunks = 0\n **/","module.exports = require(\"github-contributors\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"github-contributors\"\n ** module id = 9\n ** module chunks = 0\n **/"],"sourceRoot":""}